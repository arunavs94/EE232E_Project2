source('C:/Users/Steven/Desktop/EE232E_Project2/Q4.R')
batman_5NN_idx
batman_edge_ids[sort(batman_edge_weights , decreasing = TRUE , index.return = TRUE)
]
sort(batman_edge_weights , decreasing = TRUE , index.return = TRUE)
batman_edge_weights
sorted_weights = sort(batman_edge_weights , decreasing = TRUE , index.return = TRUE)
cat("   ",batman_5NN_names[1],"with weight ",sorted_weights$x[1],"\n")
cat("   ",batman_5NN_names[1]," with weight ",sorted_weights$x[1],"\n")
cat("The 5 Nearest neightbors of \"",sub("\\s+$", "", movie_name), "\" are: \n")
cat("   ",batman_5NN_names[1]," with weight ",sorted_weights$x[1],"\n")
cat("   ",batman_5NN_names[2]," with weight ",sorted_weights$x[2],"\n")
cat("   ",batman_5NN_names[3]," with weight ",sorted_weights$x[3],"\n")
cat("   ",batman_5NN_names[4]," with weight ",sorted_weights$x[4],"\n")
cat("   ",batman_5NN_names[5]," with weight ",sorted_weights$x[5],"\n \n")
source('C:/Users/Steven/Desktop/EE232E_Project2/Q4.R')
cat("\n \n ############## Question 7 ############## \n")
# read in movies & ratings
movie_rating = read.delim("data_files/movie_rating.txt" ,header = FALSE,stringsAsFactors = FALSE)
movie_ratomg$V2 = NULL
colnames(movie_rating) = c("movie","rating")
movieslist_of_ratings = as.vector(movie_rating$movie) #list of movies in movie_rating file
# read in movies & ratings
movie_rating = read.delim("data_files/movie_rating.txt" ,header = FALSE,stringsAsFactors = FALSE)
movie_rating$V2 = NULL
colnames(movie_rating) = c("movie","rating")
movieslist_of_ratings = as.vector(movie_rating$movie) #list of movies in movie_rating file
View(movie_rating)
movie_rating[1]
movie_rating$rating[1]
test = as.vector(movie_rating$rating)
test
batman_neighbors
nodes[batman_neighbors]
batman_neighbors_names = nodes[batman_neighbors]
batman_neighbors_names
sub("\\s+$", "", batman_neighbors_names)
batman_neigh_rating_idx = match(sub("\\s+$", "", batman_neighbors_names),rating_movie_list,nomatch = 0)
movie_rating = read.delim("data_files/movie_rating.txt" ,header = FALSE,stringsAsFactors = FALSE)
movie_rating$V2 = NULL
colnames(movie_rating) = c("movie","rating")
rating_movie_list = as.vector(movie_rating$movie) #list of movies in movie_rating file
all_ratings = as.vector(movie_rating$rating) #list of ratings in movie_rating file (note: indicies correspond to rating_movie_list)
batman_neighbors_names = nodes[batman_neighbors]
batman_neigh_rating_idx = match(sub("\\s+$", "", batman_neighbors_names),rating_movie_list,nomatch = 0)
batman_neigh_rating_idx
batman_neigh_rating_idx[ which(batman_neigh_rating_idx != 0)]
batman_neigh_rating_idx = batman_neigh_rating_idx[ which(batman_neigh_rating_idx != 0)]
all_rating[batman_neigh_rating_idx]
all_ratings[batman_neigh_rating_idx]
mean(all_ratings[batman_neigh_rating_idx])
nodes_bat_comm = which(comm_struct$membership == batman_comm) # find all ndoes in the same community as batman
nodes_bat_comm
batman_comm_names = nodes[nodes_bat_comm]
batman_comm_names
batman_comm_rating_idx = match(sub("\\s+$", "", batman_comm_names) , rating_movie_list , nomatch = 0)
batman_comm_rating_idx
batman_comm_rating_idx = batman_comm_rating_idx[ which(batman_comm_rating_idx != 0)]
batman_comm_rating_idx
batman_comm_avg_rating = mean(all_ratings[batman_comm_rating_idx])
batman_comm_avg_rating
batman_neigh_avg_rating
batman_neigh_avg_rating = mean(all_ratings[batman_neigh_rating_idx])
batman_neigh_avg_rating
cat("Predicted rating for \"",sub("\\s+$", "", movie_name_bat), "\" : ",batman_neigh_avg_rating)
movie_name_bat = "Batman v Superman: Dawn of Justice (2016)  "
movie_name_bat = "Batman v Superman: Dawn of Justice (2016)  "
cat("Predicted rating for \"",sub("\\s+$", "", movie_name_bat), "\" : ",batman_neigh_avg_rating)
cat("Predicted rating for \"",sub("\\s+$", "", movie_name_bat), "\" using ratings of neighbors: ",batman_neigh_avg_rating)
cat("Predicted rating for \"",sub("\\s+$", "", movie_name_bat), "\" using ratings of movies in the same community: ",batman_comm_avg_rating,"\n \n")
cat("\n \n ############## Question 7 ############## \n")
# read in movies & ratings
movie_rating = read.delim("data_files/movie_rating.txt" ,header = FALSE,stringsAsFactors = FALSE)
movie_rating$V2 = NULL
colnames(movie_rating) = c("movie","rating")
rating_movie_list = as.vector(movie_rating$movie) #list of movies in movie_rating file
all_ratings = as.vector(movie_rating$rating) #list of ratings in movie_rating file (note: indicies correspond to rating_movie_list)
# predict using average ratings of neighbors
batman_neighbors_names = nodes[batman_neighbors]
batman_neigh_rating_idx = match(sub("\\s+$", "", batman_neighbors_names) , rating_movie_list , nomatch = 0)
batman_neigh_rating_idx = batman_neigh_rating_idx[ which(batman_neigh_rating_idx != 0)]
batman_neigh_avg_rating = mean(all_ratings[batman_neigh_rating_idx])
cat("Predicted rating for \"" , sub("\\s+$", "", movie_name_bat) ,
"\"  using ratings of neighbors: " , batman_neigh_avg_rating ,"\n")
# predict using average ratings of community
nodes_bat_comm = which(comm_struct$membership == batman_comm) # find all ndoes in the same community as batman
batman_comm_names = nodes[nodes_bat_comm]
batman_comm_rating_idx = match(sub("\\s+$", "", batman_comm_names) , rating_movie_list , nomatch = 0)
batman_comm_rating_idx = batman_comm_rating_idx[ which(batman_comm_rating_idx != 0)]
batman_comm_avg_rating = mean(all_ratings[batman_comm_rating_idx])
cat("Predicted rating for \"" , sub("\\s+$", "", movie_name_bat)
, "\"  using ratings of movies in the same community: " , batman_comm_avg_rating , "\n \n")
source('C:/Users/Steven/Desktop/EE232E_Project2/Q4.R')
source('C:/Users/Steven/Desktop/EE232E_Project2/Q4.R')
